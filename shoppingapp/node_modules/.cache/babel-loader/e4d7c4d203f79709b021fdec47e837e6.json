{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\85290\\\\Desktop\\\\COMP3322\\\\A2\\\\shoppingapp\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Nav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input_category: \"\",\n      input_searchString: \"\"\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value; // name correspond to the name attribute in the input tags\n\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n    console.log(name);\n    console.log(value);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"nav\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"category_link\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/#\",\n          onClick: () => this.props.getProducts('Phones', ''),\n          children: \"Phones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/#\",\n          onClick: () => this.props.getProducts('Tablets', ''),\n          children: \"Tablets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/#\",\n          onClick: () => this.props.getProducts('Laptops', ''),\n          children: \"Laptops\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"input_category\",\n        onChange: this.handleInputChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Phones\",\n          children: \"Phones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Tablets\",\n          children: \"Tablets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Laptops\",\n          children: \"Laptops\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Content extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return \"\";\n  }\n\n}\n\nfunction Footer() {}\n\n_c = Footer;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogin: false,\n      currnet_page: 'products',\n      //'products','detail','login'\n      product_list: [],\n      product_info: [],\n      session_info: []\n    };\n    this.getProducts = this.getProducts.bind(this);\n    this.getSessionInfo = this.getSessionInfo.bind(this);\n    this.loadInitialPage();\n  }\n  /* change product list in state */\n\n\n  getProducts(category, searchString) {\n    /* note that the sorting is done in server side */\n    console.log('called getProducts()');\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:3001/loadpage?category=\" + category + \"&searchstring=\" + searchString,\n      xhrFields: {\n        withCredentials: true\n      },\n      dataType: 'JSON',\n      success: function (result) {\n        //change page to products list page and update product_list\n        console.log(result);\n        this.setState({\n          currnet_page: 'products',\n          product_list: result\n        });\n      }.bind(this)\n    });\n  }\n  /* change session info in state */\n\n\n  getSessionInfo() {\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:3001/getsessioninfo\",\n      xhrFields: {\n        withCredentials: true\n      },\n      dataType: 'JSON',\n      success: function (result) {\n        this.setState({\n          session_info: result\n        });\n      }.bind(this)\n    });\n  }\n  /* initialize page */\n\n\n  loadInitialPage() {\n    this.getProducts(\"\", \"\");\n    this.getSessionInfo();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Nav, {\n        isLogin: this.state.isLogin,\n        getProducts: this.getProducts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Content, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"Footer\");","map":{"version":3,"names":["React","$","Nav","Component","constructor","props","state","input_category","input_searchString","handleInputChange","bind","event","target","value","name","setState","console","log","render","getProducts","Content","Footer","App","isLogin","currnet_page","product_list","product_info","session_info","getSessionInfo","loadInitialPage","category","searchString","ajax","type","url","xhrFields","withCredentials","dataType","success","result"],"sources":["C:/Users/85290/Desktop/COMP3322/A2/shoppingapp/src/App.js"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport $ from 'jquery';\n\nclass Nav extends React.Component{\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      input_category: \"\",\n      input_searchString: \"\"\n    }\n\n    this.handleInputChange = this.handleInputChange.bind(this)\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    // name correspond to the name attribute in the input tags\n    const name = target.name;\n    this.setState({[name]: value});\n    console.log(name)\n    console.log(value)\n  }\n\n  render(){\n    return (\n      <nav>\n        <div class=\"category_link\">\n          <a href='/#' onClick={() => this.props.getProducts('Phones', '')}>Phones</a>\n          <a href='/#' onClick={() => this.props.getProducts('Tablets', '')}>Tablets</a>\n          <a href='/#' onClick={() => this.props.getProducts('Laptops', '')}>Laptops</a>\n        </div>\n        \n        <select name=\"input_category\" onChange={this.handleInputChange}>\n          <option value=\"\">All</option>\n          <option value=\"Phones\">Phones</option>\n          <option value=\"Tablets\">Tablets</option>\n          <option value=\"Laptops\">Laptops</option>\n        </select>\n      </nav>\n    )\n  }\n}\n\nclass Content extends React.Component {\n  constructor(props){\n    super(props)\n  }\n  render(){\n    return \"\"\n  }\n}\n\nfunction Footer(){\n\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogin: false,\n      currnet_page: 'products',    //'products','detail','login'\n      product_list: [],\n      product_info: [],\n      session_info: []\n    }\n    this.getProducts = this.getProducts.bind(this)\n    this.getSessionInfo = this.getSessionInfo.bind(this)\n\n    this.loadInitialPage();\n  }\n\n\n  /* change product list in state */\n  getProducts(category, searchString){\n    /* note that the sorting is done in server side */\n    console.log('called getProducts()')\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:3001/loadpage?category=\" + category + \"&searchstring=\" + searchString,\n      xhrFields: {withCredentials: true},\n      dataType: 'JSON',\n      success: function(result){\n        //change page to products list page and update product_list\n        console.log(result)\n        this.setState({currnet_page: 'products', product_list: result})\n      }.bind(this)\n    })\n  }\n\n  /* change session info in state */\n  getSessionInfo(){\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:3001/getsessioninfo\",\n      xhrFields: {withCredentials: true},\n      dataType: 'JSON',\n      success: function(result){\n        this.setState({session_info: result})\n      }.bind(this)\n    })\n  }\n\n  /* initialize page */\n  loadInitialPage(){\n    this.getProducts(\"\",\"\");\n    this.getSessionInfo();\n  }\n\n  render(){\n    return (\n      <React.Fragment>\n        <Nav \n          isLogin={this.state.isLogin}\n          getProducts={this.getProducts}/>\n        <Content />\n        <Footer />\n      </React.Fragment>\n    )\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
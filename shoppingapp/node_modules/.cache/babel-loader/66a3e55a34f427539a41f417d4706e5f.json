{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\85290\\\\Desktop\\\\COMP3322\\\\A2\\\\shoppingapp\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Nav(props) {\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    children: /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/#\",\n      onClick: () => props.getProducts('Phones', ''),\n      children: \"Phones\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Nav;\n\nclass Content extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n}\n\nfunction Footer() {}\n\n_c2 = Footer;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogin: false,\n      currnet_page: 'products',\n      //'products','detail','login'\n      product_list: [],\n      product_info: [],\n      session_info: []\n    };\n    this.getProducts = this.getProducts.bind(this);\n    this.getSessionInfo = this.getSessionInfo.bind(this);\n    this.loadInitialPage();\n  }\n  /* change product list in state */\n\n\n  getProducts(category, searchString) {\n    /* note that the sorting is done in server side */\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:3001/loadpage?category=\" + category + \"&searchstring=\" + searchString,\n      xhrFields: {\n        withCredentials: true\n      },\n      dataType: 'JSON',\n      success: function (result) {\n        //change page to products list page and update product_list\n        this.setState({\n          currnet_page: 'products',\n          product_list: result\n        });\n      }.bind(this)\n    });\n  }\n  /* change session info in state */\n\n\n  getSessionInfo() {\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:3001/getsessioninfo\",\n      xhrFields: {\n        withCredentials: true\n      },\n      dataType: 'JSON',\n      success: function (result) {\n        this.setState({\n          session_info: result\n        });\n      }.bind(this)\n    });\n  }\n  /* initialize page */\n\n\n  loadInitialPage() {\n    this.getProducts(\"\", \"\");\n    this.getSessionInfo();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Nav, {\n        isLogin: this.state.isLogin,\n        getProducts: this.getProducts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Content, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Nav\");\n$RefreshReg$(_c2, \"Footer\");","map":{"version":3,"names":["React","$","Nav","props","getProducts","Content","Component","constructor","Footer","App","state","isLogin","currnet_page","product_list","product_info","session_info","bind","getSessionInfo","loadInitialPage","category","searchString","ajax","type","url","xhrFields","withCredentials","dataType","success","result","setState","render"],"sources":["C:/Users/85290/Desktop/COMP3322/A2/shoppingapp/src/App.js"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport $ from 'jquery';\n\nfunction Nav(props){\n\n\n  \n  return (\n    <nav>\n      <a href='/#' onClick={() => props.getProducts('Phones', '')}>Phones</a>\n    </nav>\n  )\n}\n\nclass Content extends React.Component {\n  constructor(props){\n    super(props)\n  }\n}\n\nfunction Footer(){\n\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogin: false,\n      currnet_page: 'products',    //'products','detail','login'\n      product_list: [],\n      product_info: [],\n      session_info: []\n    }\n    this.getProducts = this.getProducts.bind(this)\n    this.getSessionInfo = this.getSessionInfo.bind(this)\n\n    this.loadInitialPage();\n  }\n\n\n  /* change product list in state */\n  getProducts(category, searchString){\n    /* note that the sorting is done in server side */\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:3001/loadpage?category=\" + category + \"&searchstring=\" + searchString,\n      xhrFields: {withCredentials: true},\n      dataType: 'JSON',\n      success: function(result){\n        //change page to products list page and update product_list\n        this.setState({currnet_page: 'products', product_list: result})\n      }.bind(this)\n    })\n  }\n\n  /* change session info in state */\n  getSessionInfo(){\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:3001/getsessioninfo\",\n      xhrFields: {withCredentials: true},\n      dataType: 'JSON',\n      success: function(result){\n        this.setState({session_info: result})\n      }.bind(this)\n    })\n  }\n\n  /* initialize page */\n  loadInitialPage(){\n    this.getProducts(\"\",\"\");\n    this.getSessionInfo();\n  }\n\n  render(){\n    return (\n      <React.Fragment>\n        <Nav \n          isLogin={this.state.isLogin}\n          getProducts={this.getProducts}/>\n        <Content />\n        <Footer />\n      </React.Fragment>\n    )\n  }\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,CAAP,MAAc,QAAd;;;AAEA,SAASC,GAAT,CAAaC,KAAb,EAAmB;EAIjB,oBACE;IAAA,uBACE;MAAG,IAAI,EAAC,IAAR;MAAa,OAAO,EAAE,MAAMA,KAAK,CAACC,WAAN,CAAkB,QAAlB,EAA4B,EAA5B,CAA5B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAKD;;KATQF,G;;AAWT,MAAMG,OAAN,SAAsBL,KAAK,CAACM,SAA5B,CAAsC;EACpCC,WAAW,CAACJ,KAAD,EAAO;IAChB,MAAMA,KAAN;EACD;;AAHmC;;AAMtC,SAASK,MAAT,GAAiB,CAEhB;;MAFQA,M;;AAIT,MAAMC,GAAN,SAAkBT,KAAK,CAACM,SAAxB,CAAkC;EAChCC,WAAW,CAACJ,KAAD,EAAQ;IACjB,MAAMA,KAAN;IACA,KAAKO,KAAL,GAAa;MACXC,OAAO,EAAE,KADE;MAEXC,YAAY,EAAE,UAFH;MAEkB;MAC7BC,YAAY,EAAE,EAHH;MAIXC,YAAY,EAAE,EAJH;MAKXC,YAAY,EAAE;IALH,CAAb;IAOA,KAAKX,WAAL,GAAmB,KAAKA,WAAL,CAAiBY,IAAjB,CAAsB,IAAtB,CAAnB;IACA,KAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBD,IAApB,CAAyB,IAAzB,CAAtB;IAEA,KAAKE,eAAL;EACD;EAGD;;;EACAd,WAAW,CAACe,QAAD,EAAWC,YAAX,EAAwB;IACjC;IACAnB,CAAC,CAACoB,IAAF,CAAO;MACLC,IAAI,EAAE,KADD;MAELC,GAAG,EAAE,6CAA6CJ,QAA7C,GAAwD,gBAAxD,GAA2EC,YAF3E;MAGLI,SAAS,EAAE;QAACC,eAAe,EAAE;MAAlB,CAHN;MAILC,QAAQ,EAAE,MAJL;MAKLC,OAAO,EAAE,UAASC,MAAT,EAAgB;QACvB;QACA,KAAKC,QAAL,CAAc;UAACjB,YAAY,EAAE,UAAf;UAA2BC,YAAY,EAAEe;QAAzC,CAAd;MACD,CAHQ,CAGPZ,IAHO,CAGF,IAHE;IALJ,CAAP;EAUD;EAED;;;EACAC,cAAc,GAAE;IACdhB,CAAC,CAACoB,IAAF,CAAO;MACLC,IAAI,EAAE,KADD;MAELC,GAAG,EAAE,sCAFA;MAGLC,SAAS,EAAE;QAACC,eAAe,EAAE;MAAlB,CAHN;MAILC,QAAQ,EAAE,MAJL;MAKLC,OAAO,EAAE,UAASC,MAAT,EAAgB;QACvB,KAAKC,QAAL,CAAc;UAACd,YAAY,EAAEa;QAAf,CAAd;MACD,CAFQ,CAEPZ,IAFO,CAEF,IAFE;IALJ,CAAP;EASD;EAED;;;EACAE,eAAe,GAAE;IACf,KAAKd,WAAL,CAAiB,EAAjB,EAAoB,EAApB;IACA,KAAKa,cAAL;EACD;;EAEDa,MAAM,GAAE;IACN,oBACE,QAAC,KAAD,CAAO,QAAP;MAAA,wBACE,QAAC,GAAD;QACE,OAAO,EAAE,KAAKpB,KAAL,CAAWC,OADtB;QAEE,WAAW,EAAE,KAAKP;MAFpB;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QAJF,eAKE,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QALF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EASD;;AA7D+B;;AAgElC,eAAeK,GAAf"},"metadata":{},"sourceType":"module"}